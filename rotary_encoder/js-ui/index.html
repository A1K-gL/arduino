<!DOCTYPE html>
<html>
  <head>
    <title>Meter</title>
    <link rel="stylesheet" href="css/style.css"/>
  </head>
  <body>
    <div class="container">
      <h1>Meter</h1>
      <div id="meter" class="gauge-container"></div>
    </div>

    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="js/gauge.js"></script>
    <script>
      const Gauge = window.Gauge;
      const meter = Gauge(document.getElementById("meter"), {
        max: 100,
        dialStartAngle: -90, 
        dialEndAngle: -90.01,
        label: (value) => (Math.round(value) + "/" + 100),
        value: 0        
      });
      const socket = io()
      socket.on('data', (data) => {
        meter.setValue(data)
      })
    </script>

  </body>
</html>